<div class="row">

  <div class="medium-4 columns">
    <div class="user-show">
      <% if @user.user_image.present? %>
      <%= image_tag(@user.user_image.detail.url) %>
      <% else %>
      <%= image_tag 'DefaultUserPic.png' %>
      <% end %>
    </div>
  </div>
  <div class="medium-8 columns">
    <h1><%= @user.username %></h1>
  </div>
  <div class="medium-8 columns">
    <p><%= @user.description %></p>
  </div>
</div>

<div class="top-line"></div>
<h3 class="text-center">Groups this user is apart of...</h3>

<div class="row" data-equalizer>
  <% @user.groups.each do |group| %>
  <div class="medium-4 columns panel" data-equalizer-watch>
    <div class="group-image">
      <% if group.group_image.present? %>
      <%= image_tag(group.group_image.detail.url) %>
      <% elsif group.image.present? %>
      <%= image_tag group.image %>
      <% else %>
      <%= image_tag 'DefaultUserPic.png' %>
      <% end %>
    </div>
    <h3>Group: <%= group.name %></h3>
    <h5>Founder: <%= User.find(group.creator_id).username %></h5>
    <p><%= group.description %></p>
    <p>Created: <%= distance_of_time_in_words(Time.now, group.created_at) %> ago</p>
    <%= link_to "Show", group, class: "button tiny radius" %>
    <% if user_signed_in? %>
      <% if current_user.subscribers.where(group_id: group.id).present? == false %>
        <%= link_to "Join!", group_subscribers_path(group), method: :post, class: "button tiny radius" %>
      <% elsif current_user.subscribers.where(admin: true).where(group_id: group.id).present? %>
        <%= link_to "Edit", edit_group_path(group), class: "button tiny radius" %>
        <%= link_to "Disband", group, method: :delete, class: "button tiny radius" %>
      <% end %>
    <% end %>
  </div>
  <% end %>
</div>